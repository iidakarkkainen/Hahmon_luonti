package harkkaprojekti;
import java.io.*;
import java.util.*;

/**
 * This program allows the user to create and save a character profile.
 */
public class ver1 {
    private static final Scanner scanner = new Scanner(System.in);

    public static void main(String[] args) {
        try {
            // Create a new character profile
            Character character = luoHahmo();

            // Save the character profile to a file
            saveCharacter(character);

            System.out.println("Character profile saved successfully.");
        } catch (Exception e) {
            System.out.println("Error: " + e.getMessage());
        }
    }

    /**
     * Luo uuden hahmon käyttäjän syötteen perusteella
     */
    private static Character luoHahmo() {
        System.out.println("Luo uusi hahmo");

        // Hahmon nimi
        System.out.print("Nimi: ");
        String nimi = scanner.nextLine();

        // Hahmon hiukset
        String[] hiukset  = {"lyhyt", "pitkä", "kalju"};
        System.out.println("Hiusten pituus: " + Arrays.toString(hiukset));
        System.out.print("Hiusten pituus: ");
        String hiusPituus = scanner.nextLine();

        // Hahmon ikä
        System.out.print("Ikä: ");
        int ikä = scanner.nextInt();
        scanner.nextLine();

        // Get the character attributes
        Map<String, Integer> attributes = new HashMap<>();
        String[] attributeNames = {"Strength", "Dexterity", "Constitution", "Intelligence", "Wisdom", "Charisma"};
        for (String attributeName : attributeNames) {
            System.out.print(attributeName + ": ");
            int attributeValue = scanner.nextInt();
            scanner.nextLine();
            attributes.put(attributeName, attributeValue);
        }

        // Create a new character object
        Character character = new Character(nimi, hiusPituus, ikä, attributes);
        return character;
    }

    /**
     * Saves the character profile to a file.
     */
    private static void saveCharacter(Character character) throws IOException {
        System.out.println("Saving character profile...");

        // Set the file name to characters.txt
        String fileName = "src/characters.txt";

        // Open the file for writing
        FileWriter writer = new FileWriter(fileName, true);

        // Write the character profile to the file
        writer.write("Nimi: " + character.haeNimi() + "\n");
        writer.write("Hiukset: " + character.haeHiukset() + "\n");
        writer.write("Ikä: " + character.haeIkä() + "\n");
        for (String attributeName : character.getAttributes().keySet()) {
            writer.write(attributeName + ": " + character.getAttributes().get(attributeName) + "\n");
        }
        writer.write("\n"); // Add a blank line after each character

        // Close the file
        writer.close();
    }

    /**
     * Represents a character in the game.
     */
    private static class Character {
        private String nimi;
        private String hiusPituus;
        private int ikä;
        private Map<String, Integer> attributes;

        public Character(String nimi, String hiusPituus, int ikä, Map<String, Integer> attributes) {
            this.nimi = nimi;
            this.hiusPituus = hiusPituus;
            this.ikä = ikä;
            this.attributes = attributes;
        }

        public String haeNimi() {
            return nimi;
        }

        public String haeHiukset() {
            return hiusPituus;
        }

        public int haeIkä() {
            return ikä;
        }

        public Map<String, Integer> getAttributes() {
            return attributes;
        }
    }
}
